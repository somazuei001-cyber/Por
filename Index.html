<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Love Stages üíù (Ultra Smooth Touch)</title>
<link rel="preconnect" href="https://fonts.googleapis.com"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;700;800&family=Itim&display=swap" rel="stylesheet">
<style>
:root{
  --primary:#ff4d6d; --primary-2:#ff8fa3; --accent:#7c83ff; --accent-2:#60a5fa;
  --ink:#0b1220; --ink-2:#1f2937; --ink-3:#475569;
  --ring:rgba(15,23,42,.14); --glass:rgba(255,255,255,.92);
  --bg1:#1a1533; --bg2:#0b1026;
  --shadow:0 10px 30px rgba(0,0,0,.20); --shadow-lg:0 24px 56px rgba(0,0,0,.32);
}
*{box-sizing:border-box}
html,body{height:100%}
:lang(th){ letter-spacing:0 !important }
body{
  margin:0; font-family:'Kanit',system-ui,Segoe UI,Roboto,Arial,sans-serif; color:var(--ink); line-height:1.75;
  background:
    radial-gradient(900px 500px at 20% -10%, #2a1f3d 0, transparent 60%),
    radial-gradient(900px 500px at 80% -10%, #14213d 0, transparent 60%),
    linear-gradient(180deg, var(--bg1), var(--bg2));
  overflow-x:hidden; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
}

/* Layers */
#stars{position:fixed; inset:0; z-index:0; pointer-events:none}
#floatEmo{position:fixed; inset:0; z-index:1; pointer-events:none}
#petsLayer{position:fixed; inset:0; z-index:2; pointer-events:none}
.container{position:relative; z-index:3}
#fxLayer{position:fixed; inset:0; z-index:4; pointer-events:none; contain:layout paint}
#toasts{position:fixed; left:50%; bottom:16px; transform:translateX(-50%); z-index:5; width:min(95vw,560px); display:flex; flex-direction:column; gap:8px}
.modal{position:fixed; inset:0; z-index:40; display:none; align-items:center; justify-content:center; background:rgba(0,0,0,.65)}
.modal.open{display:flex}

/* Utilities */
.hidden{display:none !important}
.center{text-align:center}
.small{font-size:.98rem}
.mt-8{margin-top:8px} .mt-12{margin-top:12px} .mt-16{margin-top:16px}
.hand{font-family:'Itim',cursive}

/* UI chrome */
.container{max-width:1100px; margin:0 auto; padding:20px 16px}
header{display:flex; justify-content:center; align-items:center; gap:12px; padding:22px 0; user-select:none}
.brand .logo{font-size:30px; filter:drop-shadow(0 4px 10px rgba(255,77,109,.45))}
.brand .text{color:#fff; font-weight:800; font-size:clamp(18px,3vw,28px); text-shadow:0 1px 0 rgba(255,255,255,.2)}
.progress{position:sticky; top:0; height:7px; background:rgba(255,255,255,.25); border-radius:999px; overflow:hidden}
.progress i{display:block; height:100%; width:0%;
  background:linear-gradient(90deg,#ff4d6d,#ff8fa3,#7c83ff,#60a5fa);
  animation:barGlow 2.8s linear infinite
}
@keyframes barGlow{0%{filter:brightness(1)}50%{filter:brightness(1.2)}100%{filter:brightness(1)}}
.badge{display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border:1px solid var(--ring); border-radius:999px; background:#fff; font-weight:800; box-shadow:0 6px 20px rgba(0,0,0,.06)}
#elapsed{position:fixed; left:10px; top:10px; z-index:6}

/* Cards/Buttons */
.card{background:var(--glass); border:1px solid var(--ring); border-radius:22px; box-shadow:var(--shadow); backdrop-filter:saturate(110%) blur(2px); position:relative; transform:translateZ(0)}
.p-24{padding:24px}.p-32{padding:32px}.p-40{padding:40px}
button{appearance:none; border:0; cursor:pointer; font-family:inherit; transition:transform .18s ease, box-shadow .18s ease, filter .18s ease; touch-action:manipulation}
.btn{padding:12px 16px; border-radius:14px; font-weight:800; position:relative; overflow:hidden; isolation:isolate}
.btn::after{content:""; position:absolute; inset:-2px; border-radius:inherit; box-shadow:0 0 0 0 rgba(255,255,255,.0); opacity:0; transition:all .25s ease}
.btn:hover::after{box-shadow:0 0 16px 6px rgba(255,255,255,.35); opacity:1}
.btn-primary{background:linear-gradient(135deg,var(--primary),var(--primary-2)); color:#fff; box-shadow:0 10px 26px rgba(255,77,109,.28)}
.btn-ghost{background:#fff; border:1px solid var(--ring); color:var(--ink)}
.btn-accent{background:linear-gradient(135deg,#7c83ff,#6366f1); color:#fff; box-shadow:0 10px 26px rgba(99,102,241,.28)}
.btn:hover{transform:translateY(-1px); filter:saturate(110%)} .btn:active{transform:translateY(1px) scale(.99)}

/* Typography */
.title{font-size:clamp(28px,4vw,48px); color:var(--ink)}
.title.black-shimmer{
  background:linear-gradient(90deg,#111 0%,#111 40%,#444 50%,#111 60%,#111 100%);
  -webkit-background-clip:text; background-clip:text; color:transparent;
  animation:blackShimmer 3.2s linear infinite;
}
.subtitle{font-size:clamp(16px,2.4vw,20px); color:var(--ink-2); line-height:1.9}
.aura{position:relative}
.aura::before{content:""; position:absolute; inset:-8px; border-radius:24px; background:radial-gradient(120px 60px at 20% 20%, rgba(255,77,109,.22), transparent 60%), radial-gradient(120px 60px at 80% 80%, rgba(96,165,250,.18), transparent 60%); filter:blur(14px); z-index:-1; opacity:.7; animation:pulse 3.8s ease-in-out infinite}
@keyframes pulse{0%{transform:scale(1); opacity:.55}50%{transform:scale(1.03); opacity:.9}100%{transform:scale(1); opacity:.55}}
.jiggle{display:inline-block; animation:jiggle 2.8s ease-in-out infinite}
@keyframes jiggle{0%,100%{transform:translateY(0)}10%{transform:translateY(-1px)}20%{transform:translateY(1px)}}

/* Stage virtualization */
.stage{display:none; opacity:0; transform:translateY(10px); content-visibility:auto; contain-intrinsic-size:600px}
.stage.active{display:block; animation:stageIn .45s cubic-bezier(.18,.72,.22,1) forwards}
@keyframes stageIn{from{opacity:0; transform:translateY(10px) scale(.985)} to{opacity:1; transform:translateY(0) scale(1)}}
.stage:not(.active){pointer-events:none}

/* Toast */
.toast{background:#fff; border:1px solid var(--ring); border-radius:12px; padding:12px 14px; box-shadow:var(--shadow); opacity:0; transform:translateY(6px); transition:all .2s ease; font-weight:800}
.toast.show{opacity:1; transform:translateY(0)}
.toast.ok{background:#ecfdf5} .toast.warn{background:#fff7ed} .toast.err{background:#fef2f2}

/* Boards & Quiz */
.board{display:grid; grid-template-columns:repeat(5, minmax(0,1fr)); gap:12px}
@media (max-width:620px){ .board{grid-template-columns:repeat(4, minmax(0,1fr))} }
@media (max-width:420px){ .board{grid-template-columns:repeat(3, minmax(0,1fr))} }
.tile{aspect-ratio:1/1; border-radius:18px; border:1px solid var(--ring); background:#fff; position:relative; overflow:hidden; will-change:transform}
.tile>span{position:absolute; inset:0; display:grid; place-items:center; font-size:24px}
.tile.found{background:linear-gradient(135deg,var(--primary),#ff9ab1); color:#fff}
.grid-match{display:grid; grid-template-columns:repeat(6, minmax(0,1fr)); gap:12px}
@media (max-width:880px){ .grid-match{grid-template-columns:repeat(4, minmax(0,1fr))} }
@media (max-width:520px){ .grid-match{grid-template-columns:repeat(3, minmax(0,1fr))} }
.card-m{aspect-ratio:3/4; border-radius:16px; position:relative; perspective:900px; cursor:pointer; will-change:transform}
.card-face{position:absolute; inset:0; border-radius:16px; display:grid; place-items:center; font-size:28px; backface-visibility:hidden; border:1px solid var(--ring)}
.card-front{background:#fff} .card-back{background:#fff; transform:rotateY(180deg)}
.card-m.flip .card-front{transform:rotateY(180deg)} .card-m.flip .card-back{transform:rotateY(360deg)}
.card-m.matched .card-back{background:linear-gradient(135deg,var(--primary),#ff9ab1); color:#fff}
.quiz{display:grid; gap:16px}
.q{background:#fff; border:1px solid var(--ring); border-radius:16px; padding:16px}
.q h4{margin:0 0 8px 0; color:#111}
.opt{display:flex; flex-wrap:wrap; gap:8px}
.opt button{border:1px solid var(--ring); background:#fff; color:#111; border-radius:12px; padding:8px 12px; font-weight:700}
.opt button.selected{background:linear-gradient(135deg,#111,#333); color:#fff; border-color:transparent}

/* Envelope */
.letterbox{width:min(92vw,520px); background:#fff; border-radius:18px; border:1px solid var(--ring); box-shadow:var(--shadow-lg); overflow:hidden}
.letter-flap{height:110px; background:linear-gradient(135deg,#ffd6e1,#fff); transform-origin:top; animation:flapOpen .7s ease forwards}
@keyframes flapOpen{0%{transform:rotateX(0)}100%{transform:rotateX(180deg)}}
.letter-paper{padding:18px 18px 24px; transform:translateY(-60px); animation:paperOut .7s .2s ease forwards; opacity:0}
@keyframes paperOut{to{transform:translateY(0); opacity:1}}

/* Balloon Area (rAF) */
#balloonArea{position:relative; height:540px; overflow:hidden; border:1px dashed var(--ring); border-radius:16px; background:linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.78))}
.balloonWrap{position:absolute; will-change:transform}
.balloon{position:absolute; left:50%; transform:translate(-50%,-50%); width:54px; height:68px; cursor:pointer; border-radius:50% 50% 45% 45%; --balloon:#ff6b81;
  background: radial-gradient(40% 40% at 30% 28%, rgba(255,255,255,.65), rgba(255,255,255,0) 60%), linear-gradient(180deg, var(--balloon), rgba(0,0,0,.06));
  border:2px solid rgba(0,0,0,.08); box-shadow:0 8px 16px rgba(0,0,0,.12)}
.balloon::after{content:""; position:absolute; left:50%; transform:translateX(-50%); bottom:-24px; width:2px; height:28px; background:rgba(0,0,0,.18); border-radius:2px}

/* Floating Emoji */
.emo{position:absolute; top:100vh; opacity:.18; filter:drop-shadow(0 1px 0 rgba(255,255,255,.3)); will-change:transform,opacity; pointer-events:none}
@keyframes floatUp { from { transform: translateY(10vh) translateX(var(--dx,0)); opacity:.12;} to { transform: translateY(-120vh) translateX(calc(var(--dx,0) * 1.8)); opacity:.22;} }
</style>
</head>
<body>
<canvas id="stars"></canvas>
<div id="floatEmo" aria-hidden="true"></div>
<div id="petsLayer" aria-hidden="true"></div>

<!-- ‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÄ‡∏•‡πÄ‡∏¢‡∏≠‡∏£‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏´‡∏±‡∏ß‡πÉ‡∏à/‡∏£‡∏¥‡∏õ‡πÄ‡∏õ‡∏¥‡∏•) ‡πÉ‡∏ä‡πâ pool -->
<div id="fxLayer"></div>

<div id="toasts" aria-live="polite"></div>
<div id="elapsed" class="badge">‚è≥ ‡∏Ñ‡∏ö‡∏Å‡∏±‡∏ô‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß: <b id="elapsedTxt">--</b></div>

<div class="container">
  <header class="nav">
    <div class="brand aura"><div class="logo">üíù</div><div class="text"><span class="jiggle">Love Stages</span> ‚Äî Just for You</div></div>
  </header>
  <div class="progress"><i id="bar"></i></div>

  <!-- Gate -->
  <section id="stage-gate" class="stage active">
    <div class="card p-40 center aura">
      <h1 class="title black-shimmer">Anniversary For Por Love</h1>
      <p class="subtitle mt-12" id="gateMsg"></p>
      <div class="mt-16" style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
        <input id="gateInput" inputmode="none" readonly placeholder="‡∏ß‡∏±‡∏ô‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏Ç‡∏≠‡∏á‡πÄ‡∏£‡∏≤‡∏™‡∏≠‡∏á‡∏Ñ‡∏ô üíû"
               style="padding:14px;border-radius:14px;border:1px solid var(--ring);min-width:260px;background:#fff;color:var(--ink);font-weight:800;caret-color:transparent"/>
        <button id="gateBtn" class="btn btn-primary">‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å</button>
      </div>
      <div id="keypad" class="mt-12" style="display:grid;grid-template-columns:repeat(3,62px);gap:8px;justify-content:center">
        <button class="btn btn-ghost k">1</button><button class="btn btn-ghost k">2</button><button class="btn btn-ghost k">3</button>
        <button class="btn btn-ghost k">4</button><button class="btn btn-ghost k">5</button><button class="btn btn-ghost k">6</button>
        <button class="btn btn-ghost k">7</button><button class="btn btn-ghost k">8</button><button class="btn btn-ghost k">9</button>
        <button class="btn btn-ghost k">/</button><button class="btn btn-ghost k">0</button><button class="btn btn-ghost k">‚å´</button>
        <button id="keyEnter" class="btn btn-accent" style="grid-column:1/4">‡∏ï‡∏Å‡∏•‡∏á</button>
      </div>
      <div id="gateErr" class="mt-12 small" style="color:#ef4444;font-weight:800"></div>
      <div id="annivInfo" class="mt-12 small"></div>
    </div>
  </section>

  <!-- Story A -->
  <section id="stage-story-a" class="stage">
    <div class="card p-40 center aura">
      <h2 class="title" style="color:#111">‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 1 ‚Äî <span class="jiggle">‡∏ó‡∏µ‡πà‡πÑ‡∏´‡∏ô‡∏î‡∏µ‡∏ô‡πâ‡∏≤</span> ‚ú®</h2>
      <p class="subtitle mt-12" id="storyAtext"></p>
      <div class="mt-16" style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
        <button class="btn btn-ghost miniA" data-correct="1">üèùÔ∏è ‡πÄ‡∏Å‡∏≤‡∏∞‡∏•‡πâ‡∏≤‡∏ô</button>
        <button class="btn btn-ghost miniA" data-correct="0">‚òï ‡∏Ñ‡∏≤‡πÄ‡∏ü‡πà‡∏Å‡∏•‡∏≤‡∏á‡πÄ‡∏°‡∏∑‡∏≠‡∏á</button>
        <button class="btn btn-ghost miniA" data-correct="0">üé¢ ‡∏™‡∏ß‡∏ô‡∏™‡∏ô‡∏∏‡∏Å</button>
      </div>
      <div class="mt-12 small hintA hidden">üí° ‡πÉ‡∏ö‡πâ: ‡πÄ‡∏Å‡∏≤‡∏∞ + ‡∏ô‡πâ‡∏≥‡∏ó‡∏∞‡πÄ‡∏•‡πÉ‡∏™</div>
      <div id="countdownA" class="small mt-12" style="font-weight:800;color:var(--ink-3)"></div>
      <div id="quoteA" class="small mt-8"></div>
    </div>
  </section>

  <!-- Stage 1 -->
  <section id="stage-1" class="stage">
    <div class="card p-40 aura">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
        <h3 style="font-size:clamp(18px,2.5vw,26px);font-weight:800;color:var(--ink)">‡∏î‡πà‡∏≤‡∏ô 1: ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏´‡∏±‡∏ß‡πÉ‡∏à üíñ</h3>
        <div id="score1" class="badge">Found: 0/7</div>
      </div>
      <p class="small mt-8">‡∏Ñ‡∏•‡∏¥‡∏Å‡∏´‡∏≤ üíñ ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö</p>
      <div id="board1" class="board mt-16"></div>
      <div id="countdown1" class="small mt-12" style="font-weight:800;color:var(--ink-3)"></div>
    </div>
  </section>

  <!-- Story B -->
  <section id="stage-story-b" class="stage">
    <div class="card p-40 center aura">
      <h2 class="title" style="color:#111">‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 2 ‚Äî <span class="jiggle">‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏à‡∏≤‡∏Å‡πÉ‡∏à</span> üí≠</h2>
      <p id="storyBtext" class="subtitle mt-12"></p>
      <div class="mt-16" style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap">
        <button class="btn btn-accent miniB-yes" data-correct="1">üíñ ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</button>
        <button class="btn btn-ghost miniB-no" data-correct="0">üí¨ ‡πÑ‡∏°‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</button>
      </div>
      <div class="mt-12 small hintB hidden">‡πÄ‡∏Ñ‡πâ‡∏≤‡∏Ñ‡∏¥‡∏î‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏ß‡πà‡∏≤‡πÄ‡∏ò‡∏≠‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Ñ‡πâ‡∏≤.... üíó</div>
      <div id="countdownB" class="small mt-12" style="font-weight:800;color:var(--ink-3)"></div>
      <div id="quoteB" class="small mt-8"></div>
    </div>
  </section>

  <!-- Stage 2 -->
  <section id="stage-2" class="stage">
    <div class="card p-40 aura">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
        <h3 style="font-size:clamp(18px,2.5vw,26px);font-weight:800;color:var(--ink)">‡∏î‡πà‡∏≤‡∏ô 2: Memory Match ‚ú®</h3>
        <div id="score2" class="badge">Matched: 0/6</div>
      </div>
      <p class="small mt-8">‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö</p>
      <div id="gridMatch" class="grid-match mt-16"></div>
      <div id="countdown2" class="small mt-12" style="font-weight:800;color:var(--ink-3)"></div>
    </div>
  </section>

  <!-- Story C -->
  <section id="stage-story-c" class="stage">
    <div class="card p-40 center aura">
      <h2 class="title" style="color:#111">‡∏ï‡∏≠‡∏ô‡∏ó‡∏µ‡πà 3 ‚Äî <span class="jiggle">‡∏≠‡∏¢‡∏≤‡∏Å‡∏ö‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏£‡∏π‡πâ</span> üí´</h2>
      <p id="storyCtext" class="subtitle mt-12"></p>
      <div class="mt-16" style="display:flex;gap:10px;justify-content:center;flex-wrap:wrap">
        <input id="answerC" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏ò‡∏≠‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà"
               style="padding:14px;border-radius:14px;border:1px solid var(--ring);min-width:260px;background:#fff;color:var(--ink);font-weight:700"/>
        <button id="answerCBtn" class="btn btn-primary">üíù ‡∏ï‡∏≠‡∏ö</button>
      </div>
      <div class="mt-12 small hintC hidden">‡πÉ‡∏ö‡πâ: ‚Äú‡πÄ‡∏Ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏≠‡∏∞‡πÑ‡∏£‡∏Å‡∏±‡∏ö‡πÄ‡∏ò‡∏≠...‡∏ô‡πâ‡∏≤‚Äù</div>
      <div id="countdownC" class="small mt-12" style="font-weight:800;color:var(--ink-3)"></div>
      <div id="quoteC" class="small mt-8"></div>
    </div>
  </section>

  <!-- Stage 3 -->
  <section id="stage-3" class="stage">
    <div class="card p-40 aura">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
        <h3 style="font-size:clamp(18px,2.5vw,26px);font-weight:800;color:var(--ink)">‡∏î‡πà‡∏≤‡∏ô 3: Quiz of Love ü•∞</h3>
        <div style="display:flex;gap:8px;flex-wrap:wrap;align-items:center">
          <div class="badge">‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≠‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö: <b id="needQ">0</b> ‡∏Ç‡πâ‡∏≠</div>
          <div id="score3" class="badge">Correct: 0/0</div>
        </div>
      </div>
      <div class="small mt-8">‡∏ï‡∏≠‡∏ö‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</div>
      <div id="quiz" class="quiz mt-16"></div>
      <div id="countdown3" class="small mt-12" style="font-weight:800;color:var(--ink-3)"></div>
    </div>
  </section>

  <!-- Stage 4 Balloon -->
  <section id="stage-4" class="stage">
    <div class="card p-40 aura">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;flex-wrap:wrap">
        <h3 style="font-size:clamp(18px,2.5vw,26px);font-weight:800;color:var(--ink)">‡∏î‡πà‡∏≤‡∏ô 4: Balloon Pop üéà</h3>
        <div style="display:flex;gap:8px;flex-wrap:wrap">
          <div class="badge">üéØ ‡∏ï‡πâ‡∏≠‡∏á‡∏à‡∏¥‡πâ‡∏°: <b id="needB">18</b></div>
          <div class="badge">üí• ‡∏à‡∏¥‡πâ‡∏°‡πÅ‡∏•‡πâ‡∏ß: <b id="hitB">0</b></div>
          <div class="badge">‚è∞ ‡πÄ‡∏ß‡∏•‡∏≤: <b id="timeB">30</b>s</div>
        </div>
      </div>
      <div id="balloonArea" class="mt-16"></div>
      <div id="countdownBdone" class="small mt-12" style="font-weight:800;color:var(--ink-3)"></div>
      <div class="mt-16" style="display:flex;gap:10px;flex-wrap:wrap">
        <button id="startB" class="btn btn-accent">‚ñ∂Ô∏è ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô!</button>
        <button id="resetB" class="btn btn-ghost" disabled>üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
        <button id="nextB" class="btn btn-primary hidden">‡πÑ‡∏õ‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡∏™‡πå‡∏™‡∏∏‡∏î‡∏ó‡πâ‡∏≤‡∏¢ ‚ûú</button>
      </div>
    </div>
  </section>

  <!-- Final -->
  <section id="stage-final" class="stage">
    <div class="card p-40 aura">
      <h2 class="title" style="color:#111">‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏ò‡∏≠, üíñ</h2>
      <p id="finalLead" class="subtitle mt-12 hand">‡πÄ‡∏ò‡∏≠‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏°‡∏≤‡∏Å ‡πÄ‡∏Å‡πà‡∏á‡∏°‡∏≤‡∏Å‡πÜ‡πÄ‡∏•‡∏¢‡∏Ñ‡πà‡∏∞ ‡∏à‡∏∏‡πä‡∏ö‡∏°‡∏ß‡∏±‡πä‡∏∞‡∏∞‡∏∞...üíñ</p>
      <div class="mt-16" style="display:flex;gap:14px;flex-wrap:wrap;align-items:flex-start">
        <div class="card p-24 aura" style="flex:1;min-width:280px">
          <h3 style="font-weight:800;color:var(--ink)">‡∏ã‡∏≠‡∏á‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢‡∏•‡∏±‡∏ö...‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏°‡∏≤‡∏Å üíå</h3>
          <div id="envelope" class="mt-12" style="width:260px;height:180px;margin:0 auto;cursor:pointer;position:relative">
            <div style="position:absolute;inset:0;background:#fff;border:1px solid var(--ring);border-radius:12px"></div>
            <div style="position:absolute;top:0;left:0;right:0;height:60%;background:linear-gradient(135deg,#ffe0e7,#fff);border-top-left-radius:12px;border-top-right-radius:12px;border:1px solid var(--ring);border-bottom:none"></div>
          </div>
          <p class="small center mt-8">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏à‡∏î‡∏´‡∏°‡∏≤‡∏¢</p>
        </div>
        <div class="card p-24 aura" style="flex:1;min-width:280px">
          <h3 style="font-weight:800;color:var(--ink)">‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç üéÅ</h3>
          <div class="center"><button id="giftBtn" class="btn btn-accent">‡πÄ‡∏õ‡∏¥‡∏î‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç!</button></div>
          <p id="giftMsg" class="small center mt-8">‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡∏°‡∏µ‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÑ‡∏û‡∏£‡∏™‡πå...‡∏°‡∏±‡πâ‡∏á </p>
        </div>
        <div class="card p-24 aura" style="flex:1;min-width:280px">
          <h3 style="font-weight:800;color:var(--ink)">‡∏™‡∏∏‡πà‡∏°‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÉ‡∏´‡πâ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏ó‡∏≥ üéüÔ∏è</h3>
          <div id="couponRoll" class="mt-12" style="height:54px;display:grid;place-items:center;border:1px dashed var(--ring);border-radius:12px;background:#fff;font-weight:800">‡∏Å‡∏î ‚Äú‡∏™‡∏∏‡πà‡∏°!‚Äù ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏•‡∏∏‡πâ‡∏ô</div>
          <button id="couponBtn" class="btn btn-accent mt-12">üé≤ ‡∏™‡∏∏‡πà‡∏°!</button>
        </div>
      </div>
      <div class="mt-16" style="display:flex;gap:8px;flex-wrap:wrap;justify-content:center">
        <button id="burstFinal" class="btn btn-primary">‡∏™‡πà‡∏á‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÉ‡∏´‡πâ‡πÄ‡∏Ñ‡πâ‡∏≤‡∏´‡∏ô‡πà‡∏≠‡∏¢</button>
        <button id="copyLink" class="btn btn-ghost">üìã ‡πÅ‡∏ä‡∏£‡πå/‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡∏•‡∏¥‡∏á‡∏Å‡πå</button>
      </div>
      <div class="badge mt-16">üóìÔ∏è ‡∏ô‡∏±‡∏ö‡∏ñ‡∏≠‡∏¢‡∏´‡∏•‡∏±‡∏á ‚Äú‡∏ß‡∏±‡∏ô‡∏Ñ‡∏£‡∏ö‡∏£‡∏≠‡∏ö‚Äù ( ‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 25 ‡∏ó‡∏∏‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô ): <b id="annivCountdown">-</b></div>
    </div>
    <p class="
